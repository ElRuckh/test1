<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagina inicial de IOT</title>
    <link href=" https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css " rel="stylesheet " integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x " crossorigin="anonymous">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
        /* Make the image fully responsive */
        
        .carousel-inner img {
            width: 100%;
            height: 100%;
        }
    </style>

</head>

<div class="jumbotron text-center">
    <h1>Registros Angus</h1>
    <p>Bienvenido a Angus Mexico</p>
</div>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <a class="navbar-brand" href="#">Inicio</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="#">Temperatura</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
            </li>
        </ul>
    </div>
</nav>



<body>

    <div id="demo" class="carousel slide" data-ride="carousel">

        <!-- Indicators -->
        <ul class="carousel-indicators">
            <li data-target="#demo" data-slide-to="0" class="active"></li>
            <li data-target="#demo" data-slide-to="1"></li>
            <li data-target="#demo" data-slide-to="2"></li>
        </ul>

        <!-- The slideshow -->
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/57/Angus_cattle_10.jpg" alt="Angus" width="500" height="500">
            </div>
            <div class="carousel-item">
                <img src="https://img.lalr.co/cms/2020/01/07115638/cardenal-2.jpg?size=sm" alt="Angus rojo" width="500" height="500">
            </div>
            <div class="carousel-item">
                <img src="https://i.blogs.es/c78e56/angus/450_1000.jpg" alt="bebe" width="1100" height="500">
            </div>
        </div>

        <!-- Left and right controls -->
        <a class="carousel-control-prev" href="#demo" data-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </a>
        <a class="carousel-control-next" href="#demo" data-slide="next">
            <span class="carousel-control-next-icon"></span>
        </a>
    </div>

    <div class="container" style="margin-top:30px">
        <div class="row">
            <div class="col-sm-4">
                <h2>About Me</h2>
                <h5>Photo of me:</h5>
                <div class="fakeimg">Fake Image</div>
                <p>Some text about me in culpa qui officia deserunt mollit anim..</p>
                <h3>Some Links</h3>
                <p>Lorem ipsum dolor sit ame.</p>
                <ul class="nav nav-pills flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Active</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Link</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Link</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" href="#">Disabled</a>
                    </li>
                </ul>
                <hr class="d-sm-none">
            </div>
            <div class="col-sm-8">
                <h2>Registra de vaca Angus</h2>
                <div class="container">
                    <div class="cold-md-5">
                        <div class="card">
                            <div class="card-body">
                                <form action="/add" method="POST">
                                    <div class="from-group">
                                        <input type="text" name="idVaca" placeholder="Id de la vaca" class="from-control">
                                    </div>

                                    <div class="from-group">
                                        <input type="text" name="madre" placeholder="Nombre de la madre" class="from-control">
                                    </div>

                                    <div class="from-group">
                                        <input type="text" name="padre" placeholder="Nombre del padre" class="from-control">
                                    </div>

                                    <div class="from-group">
                                        <input type="date" name="fecha_nacimiento" placeholder="Fecha" class="from-control">
                                    </div>

                                    <button class="btn btn-primary">
                                        Registrar
                                </button>
                                </form>
                            </div>
                        </div>
                    </div>

                </div>
                <br>
                <h2>Registros de tus vacas Angus</h2>
                <div class="col-md-8">
                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th> #</th>
                                <th>ID</th>
                                <th>madre</th>
                                <th>padre</th>
                                <th>fecha</th>
                            </tr>
                            <tbody>

                            </tbody>
                        </thead>

                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.3.2/dist/chart.min.js"></script>


    <div class="row">
        <div class="col">
            <canvas id="chart" width="800" height="260">
          </div>
          </canvas>
        </div>
    </div>
    <% 
    var arreglo = [];
    var arreglo1 = [];
       for(var i=0; i < valores2.length; i++){
           arreglo[i] = valores2[i].nom;
           arreglo1[i] = valores2[i].temperatura;
       }
    %>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
        <script>
            const datos = "<%= arreglo %>";
            const dts = "<%= arreglo1 %>";
            const filas = datos.split(',').slice(0); //nombres
            const filas1 = dts.split(',').slice(0); //valores

            const ctx = document.getElementById('chart');
            const dataSet = document.getElementById('name');
            createChart();

            function createChart() {
                const myChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: filas,
                        datasets: [{
                            label: 'Medidor de potencia',
                            data: filas1,
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 2
                        }]
                    }
                });
            }
            //function actualizar(){location.reload(true);},
            setTimeout(function() {
                window.location.reload(1);
            }, 4000);
            //actualizar();
        </script>



</body>

<div class="jumbotron text-center" style="margin-bottom:0">
    <p>Footer</p>
</div>

</html>